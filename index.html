<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ApexPlanet — Products</title>
    <style>
      body {
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
        background: #f8f9fa;
        color: #333;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      .site-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
        background: #2b6777;
        color: #fff;
      }
      .brand {
        font-size: 1.5rem;
        font-weight: bold;
        text-decoration: none;
        color: #fff;
      }
      .cart-link {
        text-decoration: none;
        color: #fff;
        font-size: 1rem;
      }
      .container {
        max-width: 1200px;
        margin: 1.5rem auto;
        padding: 0 1rem;
        flex: 1;
      }
      .filters {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }
      .filters input,
      .filters select {
        padding: 0.5rem;
        font-size: 1rem;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
      }
      .card {
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        padding: 1rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
      }
      .card img {
        max-width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 6px;
      }
      .card h3 {
        margin: 0.5rem 0;
        font-size: 1.1rem;
      }
      .card p {
        margin: 0.25rem 0;
      }
      .btn {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: 0.3s;
      }
      .btn-cart {
        background: #2b6777;
        color: #fff;
      }
      .btn-view {
        background: #f4a261;
        color: #fff;
        margin-top: 0.5rem;
      }
      .btn:hover {
        opacity: 0.9;
      }
      footer {
        background: #2b6777;
        color: #fff;
        text-align: center;
        padding: 1rem;
        margin-top: auto;
      }
      footer a {
        color: #ffd166;
        text-decoration: none;
        margin: 0 0.5rem;
      }
      footer a:hover {
        text-decoration: underline;
      }
      @media (max-width: 600px) {
        .site-header {
          flex-direction: column;
          gap: 0.5rem;
        }
        .filters {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <header class="site-header">
      <a class="brand" href="index.html">ApexPlanet</a>
      <a href="cart.html" class="cart-link"
        >Cart (<span id="cart-count">0</span>)</a
      >
    </header>

    <main class="container">
      <div class="filters">
        <input type="text" id="search" placeholder="Search products..." />
        <select id="category">
          <option value="all">All Categories</option>
          <option value="clothes">Clothes</option>
          <option value="shoes">Shoes</option>
          <option value="accessories">Accessories</option>
        </select>
        <select id="sort">
          <option value="default">Sort</option>
          <option value="low-high">Price: Low to High</option>
          <option value="high-low">Price: High to Low</option>
          <option value="rating">Rating</option>
        </select>
      </div>
      <div class="grid" id="product-list"></div>
    </main>

<footer>
  <p>© 2025 ApexPlanet. All rights reserved.</p>
  <p>
    <a href="about.html">About Us</a> | 
    <a href="contact.html">Contact</a> | 
    <a href="privacy.html">Privacy Policy</a>
  </p>
</footer>

    <script>
      const products = [
        {
          id: 1,
          name: "Classic White T-Shirt",
          category: "clothes",
          price: 399,
          rating: 4.5,
          image: "./assets/images/p1.jpg",
          description: "A timeless cotton t-shirt with perfect fit.",
        },
        {
          id: 2,
          name: "Adidas Running Shoes",
          category: "shoes",
          price: 1999,
          rating: 4.7,
          image: "./assets/images/p2.jpg",
          description: "Lightweight running shoes with extra cushioning.",
        },
        {
          id: 3,
          name: "Stylish Leather Wallet",
          category: "accessories",
          price: 799,
          rating: 4.3,
          image: "./assets/images/p3.jpg",
          description: "Premium leather wallet with multiple compartments.",
        },
        {
          id: 4,
          name: "Denim Jacket",
          category: "clothes",
          price: 1299,
          rating: 4.6,
          image: "./assets/images/p4.jpg",
          description: "Classic denim jacket for all seasons.",
        },
        {
          id: 5,
          name: "Socks - Pack of 5",
          category: "shoes",
          price: 499,
          rating: 4.1,
          image: "./assets/images/p5.jpg",
          description: "Soft cotton socks pack of 5 pairs.",
        },
        {
          id: 6,
          name: "Canvas Shoes",
          category: "shoes",
          price: 1599,
          rating: 4.2,
          image: "./assets/images/p6.jpg",
          description: "Trendy canvas shoes with durable sole.",
        },
      ];

      const productList = document.getElementById("product-list");
      const searchInput = document.getElementById("search");
      const sortSelect = document.getElementById("sort");
      const categorySelect = document.getElementById("category");

      function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let total = cart.reduce((sum, i) => sum + i.qty, 0);
        document.getElementById("cart-count").textContent = total;
      }

      function addToCart(id) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let existing = cart.find((item) => item.id === id);
        if (existing) {
          existing.qty += 1;
        } else {
          let prod = products.find((p) => p.id === id);
          cart.push({ ...prod, qty: 1 });
        }
        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();
      }

      function viewProduct(id) {
        localStorage.setItem("selectedProduct", id);
        window.location.href = "product.html";
      }

      function renderProducts(list) {
        productList.innerHTML = list
          .map(
            (p) => `
        <div class="card">
          <img src="${p.image}" alt="${p.name}">
          <h3>${p.name}</h3>
          <p>₹${p.price}</p>
          <p>⭐ ${p.rating}</p>
          <button class="btn btn-cart" onclick="addToCart(${p.id})">Add to Cart</button>
          <button class="btn btn-view" onclick="viewProduct(${p.id})">View</button>
        </div>
      `
          )
          .join("");
      }

      function applyFilters() {
        let filtered = [...products];
        const query = searchInput.value.toLowerCase();
        const category = categorySelect.value;

        if (query) {
          filtered = filtered.filter((p) =>
            p.name.toLowerCase().includes(query)
          );
        }
        if (category !== "all") {
          filtered = filtered.filter((p) => p.category === category);
        }

        const sort = sortSelect.value;
        if (sort === "low-high") {
          filtered.sort((a, b) => a.price - b.price);
        }
        if (sort === "high-low") {
          filtered.sort((a, b) => b.price - a.price);
        }
        if (sort === "rating") {
          filtered.sort((a, b) => b.rating - a.rating);
        }

        renderProducts(filtered);
      }

      searchInput.addEventListener("input", applyFilters);
      sortSelect.addEventListener("change", applyFilters);
      categorySelect.addEventListener("change", applyFilters);

      renderProducts(products);
      updateCartCount();
    </script>
  </body>
</html>
