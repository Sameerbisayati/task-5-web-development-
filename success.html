<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Success — ApexPlanet</title>
  <style>
    body {font-family: Arial, sans-serif; background:#f9f9f9; margin:0; padding:0;}
    .navbar {background:#2b6777; color:#fff; padding:15px 20px; display:flex; justify-content:space-between; align-items:center;}
    .navbar .logo {font-size:22px; font-weight:bold;}
    .navbar .nav-links a {color:#fff; margin-left:20px; text-decoration:none; font-size:16px;}
    .navbar .nav-links a:hover {text-decoration:underline;}
    .success-container {padding:50px; text-align:center;}
    .success-box {background:#fff; padding:40px; border-radius:10px; display:inline-block; box-shadow:0 4px 8px rgba(0,0,0,0.1); max-width:700px; width:100%;}
    .success-box h1 {color:#2b6777; margin-bottom:20px;}
    .success-box p {font-size:16px; margin-bottom:20px;}
    .order-summary, .address-summary {margin-top:20px; text-align:left;}
    .order-summary h2, .address-summary h2 {color:#2b6777; margin-bottom:10px;}
    .order-summary ul {list-style:none; padding:0;}
    .order-summary li {padding:10px; border-bottom:1px solid #ddd; display:flex; justify-content:space-between;}
    .total {font-weight:bold; font-size:18px; margin-top:15px; text-align:right;}
    .address-summary p {margin:5px 0; font-size:15px;}
    .btn {padding:10px 18px; border:none; border-radius:6px; cursor:pointer; font-size:16px; margin-top:20px;}
    .btn-home {background:#52ab98; color:#fff;}
    .btn-home:hover {background:#3d8d7a;}
    .order-id {margin:15px 0; font-size:16px; font-weight:bold; color:#444;}
  </style>
</head>
<body>
  <nav class="navbar">
    <h1 class="logo">ApexPlanet</h1>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="cart.html">Cart <span id="cart-count">0</span></a>
    </div>
  </nav>

  <div class="success-container">
    <div class="success-box">
      <h1>✅ Order Placed Successfully!</h1>
      <p>Thank you for shopping with <strong>ApexPlanet</strong>. Your items will be delivered soon.</p>

      <p class="order-id">Order ID: <span id="order-id"></span></p>

      <div class="order-summary">
        <h2>Your Order Summary</h2>
        <ul id="order-items"></ul>
        <div class="total">Total: ₹<span id="order-total">0</span></div>
      </div>

      <div class="address-summary">
        <h2>Delivery Address</h2>
        <p><strong>Name:</strong> <span id="addr-name"></span></p>
        <p><strong>Email:</strong> <span id="addr-email"></span></p>
        <p><strong>Phone:</strong> <span id="addr-phone"></span></p>
        <p><strong>Address:</strong> <span id="addr-address"></span></p>
      </div>

      <button class="btn btn-home" onclick="window.location.href='index.html'">Back to Home</button>
    </div>
  </div>

  <script>
    let order = JSON.parse(localStorage.getItem("lastOrder")) || null;

    if(order){
      // Order ID
      document.getElementById("order-id").textContent = order.id || "N/A";

      // Order Items
      let list=document.getElementById("order-items");
      order.items.forEach(item=>{
        let li=document.createElement("li");
        li.innerHTML=`<span>${item.name} (x${item.qty})</span><span>₹${item.price*item.qty}</span>`;
        list.appendChild(li);
      });

      // Total
      document.getElementById("order-total").textContent = order.total;

      // Address
      document.getElementById("addr-name").textContent = order.address.name || "";
      document.getElementById("addr-email").textContent = order.address.email || "";
      document.getElementById("addr-phone").textContent = order.address.phone || "";
      document.getElementById("addr-address").textContent = order.address.address || "";
    } else {
      document.querySelector(".success-box").innerHTML="<h2>No order found!</h2>";
    }

    // Reset cart count
    document.getElementById("cart-count").textContent="0";

    // Clear lastOrder after displaying
    localStorage.removeItem("lastOrder");
  </script>
</body>
</html>